package com.itssvkv.promap.ui.map.bottomsheetsimport android.os.Bundleimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport androidx.core.widget.doAfterTextChangedimport com.google.android.material.bottomsheet.BottomSheetDialogFragmentimport com.itssvkv.promap.Rimport com.itssvkv.promap.databinding.CameraBottomSheetBindingclass CameraBottomSheet : BottomSheetDialogFragment() {    private var binding: CameraBottomSheetBinding? = null    var showBuildings: ((Boolean) -> Unit)? = null    var setMinZoomLevel: ((Float) -> Unit)? = null    var setMaxZoomLevel: ((Float) -> Unit)? = null    private var isShowBuildings = false    var moveToBerlin: (() -> Unit)? = null    var moveToTokyoBounds: (() -> Unit)? = null    var animateToNairobi: (() -> Unit)? = null    var moveToDenverBoundsRestrict: (() -> Unit)? = null    init {        setStyle(STYLE_NORMAL, R.style.AppBottomSheetDialogTheme)    }    override fun onCreateView(        inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?    ): View? {        binding = CameraBottomSheetBinding.inflate(layoutInflater, container, false)        initCheckBox()        setZoomLevel()        initClicks()        return binding?.root    }    private fun initClicks() {        binding?.berlinBtn?.setOnClickListener {            moveToBerlin?.invoke()            this.dismiss()        }        binding?.tokyoBoundsBtn?.setOnClickListener {            moveToTokyoBounds?.invoke()            this.dismiss()        }        binding?.denverBoundsBtnRestrict?.setOnClickListener {            moveToDenverBoundsRestrict?.invoke()            this.dismiss()        }        binding?.nairobiBtn?.setOnClickListener {            animateToNairobi?.invoke()            this.dismiss()        }    }    private fun initCheckBox() {        binding?.showBuildings?.setOnCheckedChangeListener { _, isChecked ->            showBuildings?.invoke(isChecked)            isShowBuildings = isChecked        }    }    private fun setZoomLevel() {        binding?.minLevelEt?.doAfterTextChanged { text ->            if (text.toString().isNotEmpty()) {                setMinZoomLevel?.invoke(text.toString().toFloat())            } else {                setMinZoomLevel?.invoke(0f)            }        }        binding?.maxLevelEt?.doAfterTextChanged { text ->            if (text.toString().isNotEmpty()) {                setMaxZoomLevel?.invoke(text.toString().toFloat())            } else {                setMaxZoomLevel?.invoke(20f)            }        }    }    override fun onDestroy() {        super.onDestroy()        binding = null        isShowBuildings = false    }}